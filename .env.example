# Vibe Anywhere Environment Configuration
# Copy this to .env and configure for your environment

# ============================================
# Docker Deployment (when running via docker-compose)
# ============================================
# Password for PostgreSQL (change in production!)
POSTGRES_PASSWORD=vibeanywhere_dev_password

# Host path for persistent data (cloned repos, worktrees, SSH keys)
# Use a named volume (default) or a host path for persistence
# Named volume: vibe-anywhere-data (default, managed by Docker)
# Host path:    /path/to/vibe-anywhere-data (data visible on host)
HOST_DATA_PATH=vibe-anywhere-data

# Host path to existing git repositories (for local/symlinked repos)
HOST_REPO_PATH=/path/to/your/repos

# Host SSH directory (for Proxmox backend)
HOST_SSH_PATH=~/.ssh

# External port mappings (optional, defaults shown)
# PORT=3000
# POSTGRES_PORT=5432

# ============================================
# Database
# ============================================
# When running in Docker, use: postgresql://vibeanywhere:${POSTGRES_PASSWORD}@postgres:5432/vibeanywhere
# When running locally, use: postgresql://vibeanywhere:vibeanywhere_dev_password@localhost:5432/vibeanywhere
DATABASE_URL=postgresql://vibeanywhere:vibeanywhere_dev_password@localhost:5432/vibeanywhere

# ============================================
# Server
# ============================================
PORT=3000
NODE_ENV=development

# ============================================
# Authentication
# ============================================
# Generate a secure random string for production (at least 32 characters)
AUTH_SECRET=change-this-to-a-secure-random-string-in-production

# ============================================
# Git Configuration (Legacy)
# ============================================
# Path to base git repository (kept for backward compatibility)
# In docker-compose, this is derived from APP_HOME_DIR
BASE_REPO_PATH=/path/to/your/project

# ============================================
# Container Backend Selection
# ============================================
# Choose 'docker' or 'proxmox'
CONTAINER_BACKEND=docker

# ============================================
# Docker Configuration (if CONTAINER_BACKEND=docker)
# ============================================
CLAUDE_IMAGE=vibe-anywhere/claude-instance:latest

# ============================================
# Proxmox Agent Connection (if CONTAINER_BACKEND=proxmox)
# ============================================
# URL for Proxmox workspace agents to connect back to this server
# Use your server's IP or hostname accessible from Proxmox containers
# SESSION_HUB_URL=http://192.168.1.100:3000

# ============================================
# Session Settings
# ============================================
SESSION_IDLE_TIMEOUT_MINUTES=60
OUTPUT_BUFFER_SIZE=1000

# ============================================
# IMPORTANT NOTES
# ============================================
#
# Proxmox Configuration:
# ----------------------
# All Proxmox settings are configured via the UI (Settings > Proxmox) and stored
# in the database. This includes:
#   - Connection settings (host, port, API token, node)
#   - General settings (VLAN, storage, resources, CT template)
#   - Template VMID configuration
#
# Do NOT add PROXMOX_* variables to this .env file. They will be ignored if
# Proxmox is configured via the UI.
#
# Workspace-Specific Settings:
# ----------------------------
# ANTHROPIC_API_KEY and other workspace-specific environment variables are
# configured per-workspace or per-repository in the UI, not in this file.
#
