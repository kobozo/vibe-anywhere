# Vibe Anywhere Environment Configuration
# Copy this to .env and configure for your environment

# ============================================
# Database
# ============================================
# Choose one of the following database backends:
#
# Option 1: SQLite (Zero-Config, File-Based, Default)
# - Perfect for single-server deployments
# - No separate database server required
# - Automatic setup, just run the app
# - Uses Write-Ahead Logging (WAL) for concurrency
#
# Leave DATABASE_URL empty for default SQLite at ./data/app.db
# Or specify explicitly:
# DATABASE_URL=sqlite://./data/app.db
# DATABASE_URL=file:./data/app.db
# DATABASE_URL=./data/app.db
#
# Option 2: PostgreSQL (Scalable, Multi-Server)
# - For multi-server or high-concurrency deployments
# - Requires PostgreSQL server setup
# - Better for horizontal scaling
#
DATABASE_URL=postgresql://vibeanywhere:vibeanywhere_dev_password@localhost:5432/vibeanywhere
#
# Legacy (only needed if using PostgreSQL with docker-compose)
POSTGRES_PASSWORD=vibeanywhere_dev_password

# ============================================
# Server
# ============================================
PORT=3000
NODE_ENV=development

# ============================================
# Authentication
# ============================================
# Generate a secure random string for production (at least 32 characters)
AUTH_SECRET=change-this-to-a-secure-random-string-in-production

# ============================================
# Proxmox Configuration
# ============================================
# Vibe Anywhere uses Proxmox LXC containers for workspace isolation
# URL for Proxmox workspace agents to connect back to this server
# Use your server's IP or hostname accessible from Proxmox containers
# Example: SESSION_HUB_URL=http://192.168.1.100:3000
SESSION_HUB_URL=http://your-server-ip:3000

# ============================================
# Session Settings
# ============================================
SESSION_IDLE_TIMEOUT_MINUTES=60
OUTPUT_BUFFER_SIZE=1000

# ============================================
# Tailscale Configuration
# ============================================
# Tailscale OAuth client secret for generating ephemeral auth keys
# Used to authenticate containers to join the tailnet
# Generate at: https://login.tailscale.com/admin/settings/oauth
# Required scopes: devices:write (for auth key generation)
TAILSCALE_OAUTH_TOKEN=tskey-client-...

# ============================================
# IMPORTANT NOTES
# ============================================
#
# Proxmox Configuration:
# ----------------------
# All Proxmox settings are configured via the UI (Settings > Proxmox) and stored
# in the database. This includes:
#   - Connection settings (host, port, API token, node)
#   - General settings (VLAN, storage, resources, CT template)
#   - Template VMID configuration
#
# Do NOT add PROXMOX_* variables to this .env file. They will be ignored if
# Proxmox is configured via the UI.
#
# Workspace-Specific Settings:
# ----------------------------
# ANTHROPIC_API_KEY and other workspace-specific environment variables are
# configured per-workspace or per-repository in the UI, not in this file.
#
