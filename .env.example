# Vibe Anywhere Environment Configuration
# Copy this to .env and configure for your environment

# ============================================
# Database
# ============================================
# PostgreSQL database connection string
# For production, change password and database name as needed
DATABASE_URL=postgresql://vibeanywhere:vibeanywhere_dev_password@localhost:5432/vibeanywhere

# PostgreSQL password (used by docker-compose)
POSTGRES_PASSWORD=vibeanywhere_dev_password

# ============================================
# Server
# ============================================
PORT=3000
NODE_ENV=development

# ============================================
# Authentication
# ============================================
# Generate a secure random string for production (at least 32 characters)
AUTH_SECRET=change-this-to-a-secure-random-string-in-production

# ============================================
# Proxmox Configuration
# ============================================
# Vibe Anywhere uses Proxmox LXC containers for workspace isolation
# URL for Proxmox workspace agents to connect back to this server
# Use your server's IP or hostname accessible from Proxmox containers
# Example: SESSION_HUB_URL=http://192.168.1.100:3000
SESSION_HUB_URL=http://your-server-ip:3000

# ============================================
# Session Settings
# ============================================
SESSION_IDLE_TIMEOUT_MINUTES=60
OUTPUT_BUFFER_SIZE=1000

# ============================================
# Tailscale Configuration
# ============================================
# DEPRECATED: Configure Tailscale OAuth token via Settings UI → Tailscale
# The token is now stored encrypted in the database for security.
#
# To migrate:
# 1. Go to Settings → Tailscale in the web UI
# 2. Enter your OAuth token (from https://login.tailscale.com/admin/settings/oauth)
# 3. Click "Test Connection" to verify
# 4. Click "Save"
# 5. Remove TAILSCALE_OAUTH_TOKEN from this .env file
#
# Fallback (for backward compatibility only):
# TAILSCALE_OAUTH_TOKEN=tskey-client-...

# ============================================
# IMPORTANT NOTES
# ============================================
#
# Proxmox Configuration:
# ----------------------
# All Proxmox settings are configured via the UI (Settings > Proxmox) and stored
# in the database. This includes:
#   - Connection settings (host, port, API token, node)
#   - General settings (VLAN, storage, resources, CT template)
#   - Template VMID configuration
#
# Do NOT add PROXMOX_* variables to this .env file. They will be ignored if
# Proxmox is configured via the UI.
#
# Workspace-Specific Settings:
# ----------------------------
# ANTHROPIC_API_KEY and other workspace-specific environment variables are
# configured per-workspace or per-repository in the UI, not in this file.
#
